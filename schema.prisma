generator client {
  provider = "prisma-client-js"
  output   = "./src/generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id     Int     @id @default(autoincrement())
  name   String
  height Float?
  gender String?

  // Relations
  labResults LabResult[]
  events     Event[]

  @@map("users")
}

model LabResult {
  id                    String  @id @default(uuid())
  date                  String // Required field
  marker_name_es        String // Required field  
  marker_name_en        String // Required field
  value                 String // Required field
  unit                  String?
  reference_range       String?
  lab_name              String?
  doctor_protocol_notes String?
  derived               String?
  comments              String?
  other                 String?

  // Foreign key and relation
  user_id Int
  user    User @relation(fields: [user_id], references: [id])

  @@map("lab_results")
}

model Event {
  id          Int      @id @default(autoincrement())
  date        DateTime // Required field
  title       String // Required field
  description String // Required field

  // Foreign key and relation
  user_id Int
  user    User @relation(fields: [user_id], references: [id])

  @@map("events")
}
